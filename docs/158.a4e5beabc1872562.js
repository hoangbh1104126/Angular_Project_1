"use strict";(self.webpackChunkprjAngular1=self.webpackChunkprjAngular1||[]).push([[158],{6158:(G,I,r)=>{r.r(I),r.d(I,{LogInModule:()=>B});var u=r(6895),p=r(9299),o=r(4006),M=r(9646),b=r(1223),t=r(4650),k=r(7009),A=r(4859),P=r(6709),h=r(9549),w=r(3238),O=r(4144),c=r(3546),T=r(1572),L=r(266),C=r(782),_=r(7957);function y(e,a){1&e&&(t.TgZ(0,"div",2),t._UZ(1,"div",3)(2,"mat-spinner",4),t.TgZ(3,"div",5),t._UZ(4,"span")(5,"span")(6,"span")(7,"span")(8,"span"),t.qZA(),t.TgZ(9,"h1"),t._uU(10,"Loading ..."),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("diameter",175))}function U(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,n.getErrorMessage("username")))}}function F(e,a){if(1&e&&(t.TgZ(0,"mat-option",36),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function J(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,n.getErrorMessage("password")))}}function q(e,a){1&e&&(t.TgZ(0,"mat-error",37),t._uU(1,"Password must not contain username"),t.qZA())}function N(e,a){1&e&&(t.TgZ(0,"mat-grid-tile",38),t._UZ(1,"div",39),t.qZA())}function z(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div"),t._UZ(1,"div",6),t.TgZ(2,"mat-card",7)(3,"mat-grid-list",8)(4,"mat-grid-tile",9)(5,"div",10),t._UZ(6,"hr"),t.TgZ(7,"mat-card-header",11),t._UZ(8,"div",12),t.TgZ(9,"mat-card-title"),t._uU(10,"Guest"),t.qZA(),t.TgZ(11,"mat-card-subtitle"),t._uU(12,"Guest permissions"),t.qZA()(),t._UZ(13,"hr"),t.TgZ(14,"mat-card-content")(15,"form",13)(16,"h2"),t._uU(17,"Log in"),t.qZA(),t.TgZ(18,"div",14)(19,"mat-form-field",15)(20,"mat-label"),t._uU(21,"Username"),t.qZA(),t.TgZ(22,"input",16,17),t.NdJ("input",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.hint())}),t.qZA(),t.TgZ(24,"mat-hint",18),t._uU(25),t.qZA(),t.YNc(26,U,3,3,"mat-error",1),t.TgZ(27,"mat-autocomplete",19,20),t.YNc(29,F,2,2,"mat-option",21),t.qZA()()(),t.TgZ(30,"div",14)(31,"mat-form-field",22)(32,"mat-label"),t._uU(33,"Password"),t.qZA(),t._UZ(34,"input",23,24),t.TgZ(36,"mat-hint",18),t._uU(37),t.qZA(),t.YNc(38,J,3,3,"mat-error",1),t.qZA(),t.YNc(39,q,2,0,"mat-error",25),t.qZA(),t.TgZ(40,"div",14)(41,"mat-checkbox",26),t._uU(42,"Remember me"),t.qZA()(),t.TgZ(43,"div",27)(44,"span",28)(45,"a",29),t._uU(46,"Forgot your password?"),t.qZA()(),t.TgZ(47,"div",30)(48,"button",31),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.comeback())}),t._uU(49," Log in "),t.qZA()()()()(),t._UZ(50,"hr"),t.TgZ(51,"mat-card-actions",32)(52,"button",33),t._uU(53,"Register"),t.qZA(),t.TgZ(54,"button",34),t._uU(55,"Continue as Guest"),t.qZA()(),t._UZ(56,"hr"),t.qZA()(),t.YNc(57,N,2,0,"mat-grid-tile",35),t.qZA()()()}if(2&e){const n=t.MAs(23),i=t.MAs(28),s=t.MAs(35),l=t.oxw();let f,d;t.xp6(3),t.Q6J("cols",l.breakpoint)("gutterSize","20px"),t.xp6(12),t.Q6J("formGroup",l.logInForm),t.xp6(7),t.Q6J("matAutocomplete",i),t.xp6(3),t.hij("",n.value.length||0,"/20"),t.xp6(1),t.Q6J("ngIf",null==(f=l.logInForm.get("username"))?null:f.invalid),t.xp6(3),t.Q6J("ngForOf",l.autocomplete),t.xp6(8),t.hij("",s.value.length||0,"/20"),t.xp6(1),t.Q6J("ngIf",null==(d=l.logInForm.get("password"))?null:d.invalid),t.xp6(1),t.Q6J("ngIf",l.logInForm.errors),t.xp6(8),t.Q6J("matTooltipDisabled",!l.logInForm.invalid),t.xp6(1),t.Q6J("disabled",l.logInForm.invalid),t.xp6(9),t.Q6J("ngIf",2==l.breakpoint)}}let Q=b,g=[];for(var m of Q)g.push({id:m.account_number,username:m.firstname+m.lastname,password:m.lastname+m.firstname+"@123",role:"User"});g=g.concat([{id:-1,username:"admin123",password:"nimda@123",role:"Admin"}]);const j=[{path:"",component:(()=>{class e{constructor(n,i,s){this.fb=n,this._snackBar=i,this.router=s,this.check=!0,this.userAccount=g,this.hide=!0,this.onLog=!1,this.user_auto=[this.userAccount[Math.floor(Math.random()*this.userAccount.length)].username,this.userAccount[Math.floor(Math.random()*this.userAccount.length)].username,this.userAccount[Math.floor(Math.random()*this.userAccount.length)].username],this.autocomplete=this.user_auto,this.checkPassword=(l,f)=>function(d){const{value:x}=d.get(l),{value:v}=d.get(f);return""==v||""==x||null==v||null==x?null:v.includes(x)?{valueNotMatch:{usernameValue:x,passwordValue:v}}:null},this.not_found=!0,this.role="Guest",this.breakpoint=window.innerWidth<=1e3?1:2}ngDoCheck(){this.breakpoint=window.innerWidth<=1e3?1:2}hint(){let n=this.logInForm.get("username")?.value;this.autocomplete=""==n||0==n.length?this.user_auto:this.user_auto.filter(i=>i.includes(n))}ngOnInit(){this.logInForm=this.fb.group({username:["",o.kI.compose([o.kI.required,e=>{let a=e.value;return"number"==typeof a&&(a=`${a}`),0!==(a||"").trim().length?{}:{whitespace:"value is only whitespace"}},o.kI.minLength(6),o.kI.maxLength(20),o.kI.pattern(/^[A-Za-z0-9_\.]/)])],password:["",o.kI.compose([o.kI.required,e=>{let a=e.value;return"number"==typeof a&&(a=`${a}`),0!==(a||"").trim().length?{}:{whitespace:"value is only whitespace"}},o.kI.minLength(6),o.kI.maxLength(20),o.kI.pattern(/^(?=.*[!@#$%^&*]+)[A-Za-z0-9!@#$%^&*]/)])],rememberMe:!1},{validators:this.checkPassword("username","password")}),new o.NI("",o.kI.required,this.isUserNameDuplicated)}isUserNameDuplicated(n){return(0,M.of)({})}comeback(){this.checkCorrect(this.logInForm.get("username")?.value,this.logInForm.get("password")?.value)?(this._snackBar.open("Success! \nYou are login as "+this.logInForm.get("username")?.value+" = "+this.role,"Return",{horizontalPosition:"center",verticalPosition:"top",duration:1250}),this.onLog=!0,setTimeout(()=>{this.router.navigateByUrl("/account_management",{state:{user:this.userLogged}})},1e3)):this._snackBar.open("The username or password is incorrect","Try again",{horizontalPosition:"center",verticalPosition:"top",duration:2e3})}getErrorMessage(n){return this.logInForm.get(n)?.hasError("required")?"You must enter a value!":this.logInForm.get(n)?.hasError("pattern")&&!this.logInForm.get(n)?.hasError("required")?"Incorrect input type!":this.logInForm.get(n)?.hasError("minlength")||this.logInForm.get(n)?.hasError("required")?this.logInForm.get(n)?.hasError("maxlength")||this.logInForm.get(n)?.hasError("required")?"Unknown error!":n+" must be at least 6 characters":n+" can be max 20 characters"}checkCorrect(n,i){return g.some(s=>s.username==n&&s.password==i&&(this.role=s.role,this.userLogged=s.id.toString(),!0))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(o.qu),t.Y36(k.ux),t.Y36(p.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-log-in"]],decls:2,vars:2,consts:[["class","loading-wallpaper",4,"ngIf"],[4,"ngIf"],[1,"loading-wallpaper"],[1,"space"],["strokeWidth","7.5",1,"progress",3,"diameter"],[1,"loader"],[1,"dark"],[1,"example-card"],["rowHeight","550px",1,"list",3,"cols","gutterSize"],[1,"card-field"],[1,"login-form"],[1,"card-head"],["mat-card-avatar","",1,"example-header-image"],["autocomplete","off",1,"sign-in-form",3,"formGroup"],[1,"row-control"],["appearance","outline","hintLabel","Enter username"],["matInput","","placeholder","Username","formControlName","username","required","",3,"matAutocomplete","input"],["username",""],["align","end"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","hintLabel","Enter password"],["type","password","matInput","","placeholder","Password","formControlName","password","required",""],["password",""],["style","text-align: center; margin-bottom: 5px;",4,"ngIf"],["formControlName","rememberMe","color","primary"],[1,"submit-field"],[1,"forgot"],["routerLink","/forgot-password"],["matTooltip","Please fill your information","matTooltipPosition","above",1,"sign",3,"matTooltipDisabled"],["mat-raised-button","","color","primary","type","submit",1,"sign",3,"disabled","click"],["align","end",1,"card-end"],["mat-raised-button","","color","primary","onclick","location.href = 'register';"],["mat-raised-button","","color","primary","onclick","location.href = 'account_management';"],["class","bg",4,"ngIf"],[3,"value"],[2,"text-align","center","margin-bottom","5px"],[1,"bg"],[1,"bg-login"]],template:function(n,i){1&n&&(t.YNc(0,y,11,1,"div",0),t.YNc(1,z,58,13,"div",1)),2&n&&(t.Q6J("ngIf",i.onLog),t.xp6(1),t.Q6J("ngIf",!i.onLog))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.Q7,u.sg,u.O5,p.yS,o.sg,o.u,A.lW,P.oG,h.TO,h.KE,h.bx,h.hX,w.ey,O.Nt,c.a8,c.dk,c.dn,c.n5,c.$j,c.hq,c.kc,T.Ou,L.gM,C.Il,C.DX,_.XC,_.ZL,u.rS],styles:[".sign[_ngcontent-%COMP%]:active:hover{color:#0ff;opacity:.8}.example-card[_ngcontent-%COMP%]{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);width:900px;height:550px;background:linear-gradient(to bottom right,#ffffcc -25%,#ffffff 125%);margin:50px auto;z-index:1;border-radius:20px;padding:0}.example-header-image[_ngcontent-%COMP%]{border:1px solid black;background-image:url(/assets/image/unknown_avatar.png);background-size:cover}.login-form[_ngcontent-%COMP%]{width:400px;height:525px;margin:0;z-index:3}.card-field[_ngcontent-%COMP%]{width:485px;height:550px}.bg[_ngcontent-%COMP%]{margin-left:-35px;height:550px;min-width:550px}.bg-login[_ngcontent-%COMP%]{background-image:url(/assets/image/login.webp);background-position:center;background-repeat:no-repeat;background-size:cover;width:485px;height:100%;border-radius:0 20px 20px 0}.card-head[_ngcontent-%COMP%]{margin:25px 0 15px 15px}hr[_ngcontent-%COMP%]{margin:0 0 8px}h2[_ngcontent-%COMP%]{color:#00f;font-family:Fauna One,serif;text-align:center}.row-control[_ngcontent-%COMP%]{width:95%;margin:0 auto}mat-form-field[_ngcontent-%COMP%]{width:100%;margin:10px auto}.sign[_ngcontent-%COMP%]{margin:0 15px 0 0;width:145px;display:block}.forgot[_ngcontent-%COMP%]{margin-left:12.5px}.card-end[_ngcontent-%COMP%]{margin-right:12.5px}.submit-field[_ngcontent-%COMP%]{margin-top:12.5px;display:flex;vertical-align:middle;align-items:center;justify-content:space-between}div.ifNone[_ngcontent-%COMP%]{text-align:center;font-size:xx-large;color:#00f}.dark[_ngcontent-%COMP%]{position:absolute;background:#3a3a3a;width:100%;height:100%}.loading-wallpaper[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,#ccccff 0%,#ffffcc 80%);height:100%;background-size:cover}.loader[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;position:relative;display:flex;box-shadow:0 40px 60px -20px #0003;margin:75px 0 40px;padding:0;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:#ffff99;border:1px solid blanchedalmond;border-radius:50%;margin:0 5px;box-shadow:0 2px 2px #0003}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){background:#f07e6e}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){background:#84cdfa}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){background:#5ad1cd}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child){animation:animate 1.5s linear infinite}@keyframes animate{0%{transform:translate(0)}to{transform:translate(30px)}}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{animation:jump 1.5s ease-in-out infinite}@keyframes jump{0%{transform:translate(0)}10%{transform:translate(10px,-10px)}20%{transform:translate(20px,10px)}30%{transform:translate(30px,-50px)}70%{transform:translate(-150px,-50px)}80%{transform:translate(-140px,10px)}90%{transform:translate(-130px,-10px)}to{transform:translate(-120px)}}.space[_ngcontent-%COMP%]{height:15%}.progress[_ngcontent-%COMP%]{align-items:center;display:block;position:sticky;width:50%;margin-left:auto;margin-right:auto;height:10px;background:none}h1[_ngcontent-%COMP%]{text-align:center;padding:30px;color:#4169e1;font-size:50px;font-family:cursive}@media only screen and (max-width: 1000px){.example-card[_ngcontent-%COMP%]{width:90%;height:80%;max-width:450px;max-height:550px}.dark[_ngcontent-%COMP%]{background-image:url(/assets/image/login.webp);background-position:center;background-repeat:no-repeat;background-size:cover}}"]}),e})()}];let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(j),p.Bz]}),e})(),B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,Y]}),e})()}}]);